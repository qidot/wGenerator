<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>wGenerator-找回密码</title>
    <link href="static/css/bootstrap.min.css" rel="stylesheet">
    <link href="static/font-awesome/css/font-awesome.css" rel="stylesheet">
    <link href="static/css/animate.css" rel="stylesheet">
    <link href="static/css/style.css" rel="stylesheet">
    <!-- Toastr style -->
    <link href="static/css/plugins/toastr.min.css" rel="stylesheet">
    <!-- Ladda style -->
    <link href="static/css/plugins/jladda1.min.css" rel="stylesheet">
</head>


<body class="gray-bg">

<div class="passwordBox animated fadeInDown">
    <div class="row">

        <div class="col-md-12">
            <div class="ibox-content">
                <img src="/static/img/qrcode_for_gh_98eb4fe90b4d_258.jpg" style="width: 80px;position: absolute;right: 30px;top: 20px;" >
                <h2 class="font-bold">忘记密码</h2>

                <p>
                    1.扫描二维码,快速进入公众号.<br>
                    2.向公众号发送 <span style="color:#ff2222">找回密码</span> ,小W将会回复您验证码!
                </p>

                <div class="row">

                    <div class="col-lg-12">
                        <form class="m-t" id="retrieve_pwd_form" name="retrieve_pwd_form" role="form" method="POST" action="/retrievePassword" autocomplete="off" onsubmit="return retrievePassword();">
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="请输入用户名" name="userName">
                            </div>
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="请输入验证码,在公众号中获得" name="validateCode">
                            </div>
                            <div class="form-group">
                                <input type="password" class="form-control" placeholder="请输入密码" name="newPwd" id="newPwd">
                            </div>
                            <div class="form-group">
                                <input type="password" class="form-control" placeholder="请再次输入密码,要与上方密码一样哦" name="repeatNewPwd">
                            </div>

                            <button type="submit" class="btn btn-primary" style="display: none"></button>
                            <button type="button" class="btn btn-primary block full-width m-b" id="retrieve_pwd_submit" onclick="retrievePassword();">确认重置</button>

                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <hr/>
    <div class="row" th:replace="copyright_part::copyRightPart"></div>
</div>
<script src="static/js/jquery-3.1.1.min.js"></script>
<script src="static/js/plugins/jquery.serializejson.min.js"></script>
<script src="static/js/plugins/toastr.min.js"></script>
<script src="static/js/plugins/jquery.validate.min.js"></script>
<!-- Ladda -->
<script src="static/js/plugins/ladda/spin.min.js"></script>
<script src="static/js/plugins/ladda/ladda.min.js"></script>
<script src="static/js/plugins/ladda/ladda.jquery.min.js"></script>
<script src="static/js/content.min.js"></script>
<script>

    $(document).ready(function(){
        var u = getUrlParam("u");
        var c = getUrlParam("c");
        if($.trim(u)!=""){
            $("input[name=userName]").val($.trim(u));
        }
        if($.trim(c)!=""){
            $("input[name=validateCode]").val($.trim(c));
        }
    });

    //获取url中的参数
    function getUrlParam(name) {
        var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)"); //构造一个含有目标参数的正则表达式对象
        var r = window.location.search.substr(1).match(reg);  //匹配目标参数
        if (r != null) return unescape(r[2]); return null; //返回参数值
    }
</script>
</body>

</html>
